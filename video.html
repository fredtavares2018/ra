<!doctype HTML>
<html>

<style type="text/css">
	
#arjsDebugUIContainer 
{
   display: none; !important;
}
	
.a-enter-vr-button
{
   display: none; !important;		
}
</style>

<script src="js/aframe.min.js"></script>
<!-- include aframe-ar.js -->
<script src="js/aframe-ar.js"></script>

<script>
AFRAME.registerComponent('vidhandler', {
  init: function () {
    this.toggle = false;
    document.querySelector("#vid").pause(); //reference to the video
  },
  tick:function(){  
   if(document.querySelector("a-marker").object3D.visible == true){
     if(!this.toggle){
       this.toggle = true;
       document.querySelector("#vid").play();
     }
   }else{
     this.toggle = false;
     document.querySelector("#vid").pause();
   }
  }
});
</script>


<body style='margin : 0px; overflow: hidden;'>

<a-scene embedded arjs='sourceType: webcam;'>

     
<a-marker preset='custom' type='pattern' url='https://fredtavares2018.github.io/ra/fred.patt'>
<a-video 
	 src="sintel.mp4" 
	 type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' 
	 rotation="90 180 0" 
	 
	 loop="false" 
	 crossOrigin="anonymous" 
	 webkit-playsinline 
	 style="display:none" vidhandler>
	</a-video>

</a-marker>
	
	<a-entity camera></a-entity>
	
  </a-scene>
</body>
</html>
